(function($){$.fn.stellarNav=function(options){var $nav=$(this),width=$(window).width(),breakpoint=0,$parentItems=null;var settings=$.extend({theme:'plain',breakpoint:768,menuLabel:'Menu',sticky:false,position:'static',openingSpeed:250,openingEvent:'hover',closingDelay:250,showArrows:true,phoneBtn:'',phoneLabel:'Call Us',locationBtn:'',locationLabel:'Location',closeBtn:false,closeLabel:'Close',mobileMode:false,mobileOpenOnClick:false,scrollbarFix:false,onMobileMode:function(){},onDesktopMode:function(){}},options);return this.each(function(){if(settings.theme=='light'||settings.theme=='dark'){$nav.addClass(settings.theme);}
if(settings.breakpoint){breakpoint=settings.breakpoint;}
var menuLabel;if(settings.menuLabel){menuLabel=settings.menuLabel;}else{menuLabel='';}
var phoneLabel;if(settings.phoneLabel){phoneLabel=settings.phoneLabel;}else{phoneLabel='';}
var locationLabel;if(settings.locationLabel){locationLabel=settings.locationLabel;}else{locationLabel='';}
var closeLabel;if(settings.closeLabel){closeLabel=settings.closeLabel;}else{closeLabel='';}
var cssClass;if(settings.phoneBtn&&settings.locationBtn){cssClass='third';}else if(settings.phoneBtn||settings.locationBtn){cssClass='half';}else{cssClass='full';}
if(settings.position=='right'||settings.position=='left'){$nav.prepend('<a href="#" class="menu-toggle"><span class="bars"><span></span><span></span><span></span></span> '+menuLabel+'</a>');}else{$nav.prepend('<a href="#" class="menu-toggle '+cssClass+'"><span class="bars"><span></span><span></span><span></span></span> '+menuLabel+'</a>');}
var btn=null
if(settings.phoneBtn&&!(settings.position=='right'||settings.position=='left')){btn='<a href="tel:'+settings.phoneBtn+'" class="call-btn-mobile '+cssClass+'"><svg id="icon-phone"></svg> <span>'+phoneLabel+'</span></a>';$nav.find('a.menu-toggle').after(btn);}
if(settings.locationBtn&&!(settings.position=='right'||settings.position=='left')){btn='<a href="'+settings.locationBtn+'" class="location-btn-mobile '+cssClass+'" target="_blank"><svg id="icon-location"></svg> <span>'+locationLabel+'</span></a>';$nav.find('a.menu-toggle').after(btn);}
if(settings.sticky){var navPos=$nav.offset().top;if(width>=breakpoint){$(window).on('scroll',function(){if($(window).scrollTop()>navPos){$nav.addClass('fixed');}
else{$nav.removeClass('fixed');}});}}
if(settings.position=='top'){$nav.addClass('top');}
if(settings.position=='left'||settings.position=='right'){var closeBtn='<a href="#" class="close-menu '+cssClass+'"><span class="icon-close"></span>'+closeLabel+'</a>';var phoneBtn='<a href="tel:'+settings.phoneBtn+'" class="call-btn-mobile '+cssClass+'"><svg id="icon-phone"></svg></a>';var locationBtn='<a href="'+settings.locationBtn+'" class="location-btn-mobile '+cssClass+'" target="_blank"><svg id="icon-location"></svg></i></a>';$nav.find('ul:first').prepend(closeBtn);if(settings.locationBtn){$nav.find('ul:first').prepend(locationBtn);}
if(settings.phoneBtn){$nav.find('ul:first').prepend(phoneBtn);}}
if(settings.position=='right'){$nav.addClass('right');}
if(settings.position=='left'){$nav.addClass('left');}
if(!settings.showArrows){$nav.addClass('hide-arrows');}
if(settings.closeBtn&&!(settings.position=='right'||settings.position=='left')){$('<li><a class="close-menu"><span class="icon-close"></span> '+closeLabel+'</a></li>').appendTo($nav.find('ul:first'))}
if(settings.scrollbarFix){$('body').addClass('stellarnav-noscroll-x');}
var phoneIcon=document.getElementById('icon-phone');if(phoneIcon){phoneIcon.setAttribute('viewBox','0 0 480 480');var newPhoneIcon=document.createElementNS("http://www.w3.org/2000/svg",'path');newPhoneIcon.setAttribute('d','M340.273,275.083l-53.755-53.761c-10.707-10.664-28.438-10.34-39.518,0.744l-27.082,27.076 c-1.711-0.943-3.482-1.928-5.344-2.973c-17.102-9.476-40.509-22.464-65.14-47.113c-24.704-24.701-37.704-48.144-47.209-65.257     c-1.003-1.813-1.964-3.561-2.913-5.221l18.176-18.149l8.936-8.947c11.097-11.1,11.403-28.826,0.721-39.521L73.39,8.194 C62.708-2.486,44.969-2.162,33.872,8.938l-15.15,15.237l0.414,0.411c-5.08,6.482-9.325,13.958-12.484,22.02     C3.74,54.28,1.927,61.603,1.098,68.941C-6,127.785,20.89,181.564,93.866,254.541c100.875,100.868,182.167,93.248,185.674,92.876 c7.638-0.913,14.958-2.738,22.397-5.627c7.992-3.122,15.463-7.361,21.941-12.43l0.331,0.294l15.348-15.029     C350.631,303.527,350.95,285.795,340.273,275.083z');phoneIcon.appendChild(newPhoneIcon);}
var locationIcon=document.getElementById('icon-location');if(locationIcon){locationIcon.setAttribute('viewBox','0 0 480 480');var newLocationIcon=document.createElementNS("http://www.w3.org/2000/svg",'path');newLocationIcon.setAttribute('d','M322.621,42.825C294.073,14.272,259.619,0,219.268,0c-40.353,0-74.803,14.275-103.353,42.825 c-28.549,28.549-42.825,63-42.825,103.353c0,20.749,3.14,37.782,9.419,51.106l104.21,220.986   c2.856,6.276,7.283,11.225,13.278,14.838c5.996,3.617,12.419,5.428,19.273,5.428c6.852,0,13.278-1.811,19.273-5.428 c5.996-3.613,10.513-8.562,13.559-14.838l103.918-220.986c6.282-13.324,9.424-30.358,9.424-51.106 C365.449,105.825,351.176,71.378,322.621,42.825z M270.942,197.855c-14.273,14.272-31.497,21.411-51.674,21.411 s-37.401-7.139-51.678-21.411c-14.275-14.277-21.414-31.501-21.414-51.678c0-20.175,7.139-37.402,21.414-51.675 c14.277-14.275,31.504-21.414,51.678-21.414c20.177,0,37.401,7.139,51.674,21.414c14.274,14.272,21.413,31.5,21.413,51.675 C292.355,166.352,285.217,183.575,270.942,197.855z');locationIcon.appendChild(newLocationIcon);}
$('.menu-toggle, .stellarnav-open, .close-menu',$nav).on('click.nav',function(e){e.preventDefault();if(settings.position=='left'||settings.position=='right'){$nav.find('ul:first').stop(true,true).fadeToggle(settings.openingSpeed);$nav.toggleClass('active');if($nav.hasClass('active')&&$nav.hasClass('mobile')){$(document).on('click.nav',function(event){if($nav.hasClass('mobile')){if(!$(event.target).closest($nav).length){$nav.find('ul:first').stop(true,true).fadeOut(settings.openingSpeed);$nav.removeClass('active');}}});}}else{$nav.find('ul:first').stop(true,true).slideToggle(settings.openingSpeed);$nav.toggleClass('active');}});$nav.on('mouseover.nav',function(){$nav.isOver=true;});$nav.on('mouseleave.nav',function(){$nav.isOver=false;});$(document).on('click.nav',function(){if(!$nav.isOver)
$nav.find('ul ul').slideUp(settings.openingSpeed);})
$nav.find('li a').each(function(){if($(this).next().length>0){var $li=$(this).parent('li').addClass('has-sub');$('<a class="dd-toggle" href="#"><span class="icon-plus"></span></a>').appendTo($li).on('click.nav-toggle',function(e){e.preventDefault();$li.children('ul').stop(true,true).slideToggle(settings.openingSpeed);$li.toggleClass('open');});}});var resetTriggers=function(){$('li',$nav).off('click.nav mouseenter.nav mouseleave.nav');$nav.find('li a').off('click.nav mouseenter.nav');}
$parentItems=$nav.find('> ul > li');var setTriggers=function(){if($nav.hasClass('desktop')){$parentItems.each(function(){if($(this).hasClass('mega')){$(this).on(settings.openingEvent=='hover'?'mouseenter.nav':'click.nav',function(){$(this).find('ul').first().stop(true,true).slideDown(settings.openingSpeed);});$(this).on('mouseleave.nav',function(){$(this).find('ul').first().stop(true,true).slideUp(settings.openingSpeed);});}
else{if(settings.openingEvent=='click'){$(this).on('click.nav',function(e){$(e.target).siblings('ul').slideToggle(settings.openingSpeed);}).on('mouseenter.nav',function(e){if($nav.find('>ul ul:visible').length){$('ul:visible',$parentItems).not($(e.target).parents('ul')).not($(e.target).siblings('ul')).not($(e.target).children('ul')).slideUp(settings.openingSpeed);$(e.delegateTarget).children('ul:hidden').slideDown(settings.openingSpeed);}});$('li.has-sub',this).on('mouseenter.nav',function(e){if($nav.find('>ul ul:visible').length){$('ul:visible',$parentItems).not($(e.target).parents('ul')).not($(e.target).siblings('ul')).not($(e.target).children('ul')).slideUp(settings.openingSpeed);}
$(this).addClass('open').children('ul').stop(true,true).delay(settings.closingDelay).slideDown(settings.openingSpeed);});}
else{$(this).on('mouseenter.nav',function(){$(this).children('ul').stop(true,true).slideDown(settings.openingSpeed);});}
$(this).find('li.has-sub').on('mouseenter.nav',function(){$(this).children('ul').stop(true,true).delay(settings.closingDelay).slideDown(settings.openingSpeed);$(this).addClass('open');});$(this).find('li.has-sub').on('mouseleave.nav',function(e){var self=this;$(self).children('ul').stop(true,true).delay(settings.closingDelay).slideUp(settings.openingSpeed);$(self).removeClass('open');});$(this).find('li:not(.has-sub) > a').on('click.nav',function(){$nav.find('ul ul').slideUp(settings.openingSpeed);});}});}
else{$parentItems.each(function(){if(settings.mobileOpenOnClick&&$(this).hasClass('has-sub')){$('a:first',this).on('click.nav',function(){$(this).siblings('a.dd-toggle').trigger('click.nav-toggle');});}
$(this).find('li.has-sub > a').on('click.nav',function(){$(this).siblings('a.dd-toggle').trigger('click.nav-toggle');});$(this).find('li:not(.has-sub) > a').on('click.nav',function(){$nav.find('ul:first').slideUp(settings.openingSpeed);});});$('.close-menu, .stellarnav-close',$nav).on('click.nav',function(){$nav.removeClass('active');if(settings.position=='left'||settings.position=='right'){$nav.find('ul:first').stop(true,true).fadeToggle(settings.openingSpeed);}else{$('a.menu-toggle',$nav).trigger('click.nav');}});}}
windowCheck();function windowCheck(){var browserWidth=window.innerWidth;if(browserWidth<=breakpoint||settings.mobileMode){$nav.addClass('mobile');$nav.removeClass('desktop');resetTriggers();setTriggers();if(!$nav.hasClass('active')&&$nav.find('ul:first').is(':visible')){$nav.find('ul:first').hide();}
$nav.find('li.mega').each(function(){$(this).find('ul').first().removeAttr('style');$(this).find('ul').first().children().removeAttr('style');});settings.onMobileMode();}else{$nav.addClass('desktop');$nav.removeClass('mobile');if($nav.hasClass('active')){$nav.removeClass('active');}
if(!$nav.hasClass('active')&&$nav.find('ul:first').is(':hidden')){$nav.find('ul:first').show();}
$('li.open').removeClass('open').find('ul:visible').hide();resetTriggers();setTriggers();var navWidth=0;$parentItems.each(function(){navWidth+=$(this)[0].getBoundingClientRect().width;navWidth=Math.round(navWidth);if($(this).hasClass('mega')){$(this).find('ul').first().css({'left':0,'right':0,'margin':'0px auto'});var numCols=$(this).attr('data-columns');if(numCols==2){$(this).find('li.has-sub').width('50%');}else if(numCols==3){$(this).find('ul').first().children().width('33.33%');}else if(numCols==4){$(this).find('ul').first().children().width('25%');}else if(numCols==5){$(this).find('ul').first().children().width('20%');}else if(numCols==6){$(this).find('ul').first().children().width('16.66%');}else if(numCols==7){$(this).find('ul').first().children().width('14.28%');}else if(numCols==8){$(this).find('ul').first().children().width('12.5%');}else{$(this).find('ul').first().children().width('25%');}}});if($parentItems.hasClass('mega')){$nav.find('li.mega > ul').css({'max-width':navWidth});}
settings.onDesktopMode();}}
$(window).on('resize',function(){windowCheck();});});}}(jQuery));